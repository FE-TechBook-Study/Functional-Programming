# 직접 구현

- 계층형 설계 구조를 만들 때 도움이 됨.
- 직접 구현된 코드를 잘 읽을 수 있음.
- 직접 구현한 코드는 한단계의 구체화하는 수준만 해결 가능함.
- 계층형 설계는 특정 구체화 단계를 자세히 설계할 수  있음.
- 호출 그래프는 구체화 단계에서 많은 정보를 보여줌. 이를 적용해 직접 패턴을 적용 가능.
- 함수를 추출하면 더 일반적인 함수로 만들 수 있음.
- 일반적인 함수가 많을수록 재사용하기 좋음.

## 3단계 줌 레벨

1. 계층 사이에 상호 관계
2. 특정 계층의 구현
3. 특정 함수의 구현

## 계층형 설계 패턴

1. 직접 구현
2. 추상화 벽
3. 작은 인터페이스
4. 편리한 계층

## 추상화 벽

1. 세부 구현을 감춘 함수로 이루어진 계층.
2. 세부적인 것을 감추는 것은 대칭적.
3. 쉽게 코드를 수정하기 위해 사용.
4. 코드의 가독성.
5. 팀 간에 조율해야 할 것을 줄이기 위해.
6. 코드의 실수를 줄이고, 주어진 문제에 집중하기 위해

## 작은 인터페이스

작게 만들어야 하는 이유

- 추상화 벽에 코드가 많을수록 구현이 변경 되었을 때 고쳐야 할 것이 많다.
- 추상화 벽에 있는 코드는 낮은 수준의 코드이기 때문에 많은 버그가 존재한다.
- 낮은 수준의 코드는 이해하기 어렵다.
- 추상화 벽에 코드가 많을수록 팀 간 조율해야 할 것도 많다.
- 인터페이스가 많으면 알아야 할 것이 많아 사용하기 어렵다.

## 편리한 계층

- 유지 보수성 : 위로 연결된 것이 적은 함수가 변경하기 쉽다.
- 테스트 가능성 : 위쪽으로 많이 연결된 함수를 테스트하는 것이 가치 있다.
- 재사용성 : 아래쪽에 함수가 적을수록 더 재사용하기 좋다.

→ 낮은 수준의 단계로 함수를 뺴면 재사용하기 좋다.

## 요점 정리

- 계층형 설계는 코드를 추상화 계층으로 구성.
- 함수를 작성할 때 어떤 구체화 단계로 사용할 것인지 결정하는 것이 중요.
- 비슷한 의도를 가진 함수끼리 묶자.
- 호출 그래프로 구현이 직접적이지 않다는 것을 알 수 있다. 함수를 호출하는 화살표가 다양한 길이를 가지고 있다면 직접 구현되어 있지 않다는 신호.
